<!DOCTYPE html>
<html>

<head>
    <title>MapReduce Performance Results</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <h1>MapReduce Performance Analysis</h1>
    <div style="width: 800px; margin: auto;">
        <canvas id="timeChart"></canvas>
    </div>
    <div style="width: 800px; margin: auto; margin-top: 50px;">
        <canvas id="pieChart"></canvas>
    </div>

    <script>
        // Bar chart for phase times
        const ctx1 = document.getElementById('timeChart').getContext('2d');
        new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Split', 'Map', 'Reduce', 'Total'],
                datasets: [{
                    label: 'Time (ms)',
                    data: [301.89, 438.77, 232.98, 974.31],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(255, 206, 86, 0.6)',
                        'rgba(75, 192, 192, 0.6)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Time (milliseconds)'
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'MapReduce Phase Execution Times'
                    }
                }
            }
        });

        // Pie chart for percentage breakdown
        const ctx2 = document.getElementById('pieChart').getContext('2d');
        new Chart(ctx2, {
            type: 'pie',
            data: {
                labels: ['Split (31%)', 'Map (45%)', 'Reduce (24%)'],
                datasets: [{
                    data: [301.89, 438.77, 232.98],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(255, 206, 86, 0.6)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: 'Time Distribution Across Phases'
                    }
                }
            }
        });
    </script>

    <div style="width: 800px; margin: 50px auto;">
        <h2>Performance Summary</h2>
        <table border="1" style="width: 100%; border-collapse: collapse;">
            <tr>
                <th>Phase</th>
                <th>Time (ms)</th>
                <th>Percentage of Total</th>
            </tr>
            <tr>
                <td>Split</td>
                <td>301.89</td>
                <td>31%</td>
            </tr>
            <tr>
                <td>Map</td>
                <td>438.77</td>
                <td>45%</td>
            </tr>
            <tr>
                <td>Reduce</td>
                <td>232.98</td>
                <td>24%</td>
            </tr>
            <tr style="font-weight: bold;">
                <td>Total</td>
                <td>974.31</td>
                <td>100%</td>
            </tr>
        </table>
    </div>
</body>

</html>